<!DOCTYPE html>
<html>
<head>
  <title>LOGIN</title>


  <style>
 
html {
 height: 100hv;
    background-image: url('images/login_back.jpg'); /* Replace 'your-image.jpg' with the path to your image */
    background-size: cover; /* Cover the entire background */
    background-position: center; /* Center the background image */
    background-repeat: no-repeat; /* Prevent the image from repeating */

}

body {
    height: 100vh; /* Make sure the body takes the full viewport height */
    display: flex;
    justify-content: center; /* Center content horizontally */
    align-items: center;     /* Center content vertically */
    margin: 0;               /* Remove default margin */
}

.form {
        border: 1px solid whitesmoke; /* Set border color to blue (adjust as needed) */
    background-color: rgba(255, 255, 255, 0.5); 
    border-radius: 20px;/* Set background color with transparency */
    padding: 20px;
    box-shadow: 0px 0px 10px #ccc;
    width: 300px;
    animation: slide-up 1.5s ease;
}

    input[type=text], input[type=password] {
      width: 100%;
      padding: 12px 20px;
      margin: 8px 0;
      display: inline-block;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
    }
    a{
         width: 100%;
      display: inline-block;

    }
    button[type=submit] {
      width: 100px;
      background-color: #4CAF50;
      color: white;
      padding: 14px;
      align-items: center;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    button[type=submit]:hover {
      background-color: #45a049;
    }
    @keyframes slide-up {
      0% {
        transform: translateY(50%);
        opacity: 0;
      }
      100% {
        transform: translateY(0%);
        opacity: 1;
      }
    }


  </style>


</head>
<body>
  
<div class="form">
      <label for="username">Username</label>
    <input type="text" id="username" name="username" placeholder="Enter your username">
    <label for="password">Password</label>
    <input type="password" id="password" name="password" placeholder="Enter your password">

    <a> <button type="submit" id="login" onclick="login()">Sign in</button></a>
       <a class="nav-link" href="Register.html" style="margin-left: 8px; margin-top: 20px;"> <label  id="Signup">Sign up</label></a>
   <p id="message"></p>
</div>


<script>
    function login() {
        // Get the entered username and password
        var username = document.getElementById('username').value;
        var password = document.getElementById('password').value;

        // Perform a request to the backend to check the user type
        // Assume you have a backend endpoint like checkUserType.php
        var xhr = new XMLHttpRequest();
        xhr.open('POST', 'login.php', true);
        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
        
        // Send the username and password to the backend
        xhr.send('username=' + encodeURIComponent(username) + '&password=' + encodeURIComponent(password));

        // Handle the response from the backend
        xhr.onreadystatechange = function () {
            if (xhr.readyState == 4 && xhr.status == 200) {
                var response = JSON.parse(xhr.responseText);

                // Check the user type and redirect accordingly
                if (response.userType === 'admin') {
                    window.location.href = 'ADMIN/index.html';
                } else if (response.userType === 'user') {
                   localStorage.setItem("myID",response.userID);
                   localStorage.setItem("myName",response.userName);
                    window.location.href = 'FACULTY/index.html';
                } else {
                    document.getElementById('message').innerHTML = 'Invalid username or password';
                }
            }
        };
    }
</script>

</body>
</html>
